<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <title>Card Mate -- Mobile Camera Detection</title>
    <link rel="stylesheet" href="css/camera.css">
</head>
<body>
    <div class="container">
        <h1>üì± Card-Mate</h1>
        
        <div id="status" class="status"></div>
        
        <div class="camera-section">
            <h3 style="color: var(--primary-color); margin-top: 0;">Mobile Camera Controls</h3>
            <div class="camera-controls">
                <button id="startCamera" class="btn btn-primary">
                    üì∑ Start Camera
                </button>
                <button id="startDetection" class="btn btn-success" disabled>
                    üéØ Start Detection
                </button>
                <button id="stopDetection" class="btn btn-error" disabled>
                    ‚èπÔ∏è Stop Detection
                </button>
            </div>
            <video id="video" autoplay muted playsinline></video>
            <canvas id="canvas"></canvas>
        </div>
        
        <div class="detection-info">
            <div>
                <span class="info-label">Detection Mode</span>
                <span class="info-value" id="detectionMode">Mobile Camera Real-Time</span>
            </div>
            <div>
                <span class="info-label">Camera Source</span>
                <span class="info-value" id="cameraMode">Mobile Device (Rear Camera)</span>
            </div>
            <div>
                <span class="info-label">Connection Status</span>
                <span id="connectionStatus" class="connection-status disconnected">Disconnected</span>
            </div>
        </div>
        
        <div class="note">
            <strong>Instructions:</strong> Click "Start Camera" to access your device's rear camera, then "Start Detection" to begin real-time card recognition. 
            The system will process frames from your mobile camera and display detected cards below.
        </div>
        
        <div class="results-container">
            <h2>Live Detection Results</h2>
            <div class="detection-count">
                Cards Detected: <span id="detectionCount">0</span>
            </div>
            <div class="cards-detected" id="cardsDetected">
                <span style="color: var(--text-secondary); font-style: italic;">
                    Start camera and detection to see results
                </span>
            </div>
            <div class="last-update">
                <strong>Last Update:</strong> <span id="lastUpdate">Never</span>
            </div>
        </div>
    </div>

    <script src="js/camera.js"></script>
</body>
</html>
